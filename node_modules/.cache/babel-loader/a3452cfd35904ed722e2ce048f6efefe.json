{"ast":null,"code":"import _regeneratorRuntime from \"G:\\\\MERN\\\\keeper\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"G:\\\\MERN\\\\keeper\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"G:\\\\MERN\\\\keeper\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"G:\\\\MERN\\\\keeper\\\\src\\\\components\\\\CheckoutForm\\\\Checkout\\\\Checkout.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { Paper, Step, StepLabel, Typography, CircularProgress, Divider, Button, Stepper } from \"@material-ui/core\";\nimport useStyles from \"./styles\";\nimport AddressForm from \"../AddressForm\";\nimport PaymentForm from \"../PaymentForm\";\nimport { commerce } from \"../../../lib/commerce\";\n\nconst Checkout = ({\n  cart\n}) => {\n  const classes = useStyles();\n\n  const _useState = useState(0),\n        _useState2 = _slicedToArray(_useState, 2),\n        activeStep = _useState2[0],\n        setActiveStep = _useState2[1];\n\n  const steps = [' Shipping Address ', 'Payment'];\n\n  const Form = () => activeStep === 0 ? /*#__PURE__*/React.createElement(AddressForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 24\n    }\n  }) : /*#__PURE__*/React.createElement(PaymentForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 39\n    }\n  });\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        token = _useState4[0],\n        setToken = _useState4[1];\n\n  useEffect(() => {\n    const generateToken = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var token;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return commerce.checkout.generateToken(cart);\n\n            case 3:\n              token = _context.sent;\n              setToken(token);\n              _context.next = 9;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 7]]);\n      }));\n\n      return function generateToken() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  }, []);\n\n  const Confirmation = () => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }, \"confirm\");\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.toolbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    className: classes.layout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, \" Checkout\"), /*#__PURE__*/React.createElement(Stepper, {\n    activeStep: activeStep,\n    className: classes.stepper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, steps.map(step => /*#__PURE__*/React.createElement(Step, {\n    key: step,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(StepLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  }, step)))), activeStep === steps.length ? /*#__PURE__*/React.createElement(Confirmation, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 41\n    }\n  }) : /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 57\n    }\n  }))));\n};\n\nexport default Checkout;","map":{"version":3,"sources":["G:/MERN/keeper/src/components/CheckoutForm/Checkout/Checkout.jsx"],"names":["React","useState","useEffect","Paper","Step","StepLabel","Typography","CircularProgress","Divider","Button","Stepper","useStyles","AddressForm","PaymentForm","commerce","Checkout","cart","classes","activeStep","setActiveStep","steps","Form","token","setToken","generateToken","checkout","Confirmation","toolbar","layout","stepper","map","step","length"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAwBC,SAAxB,QAAwC,OAAxC;AACA,SAAQC,KAAR,EAAeC,IAAf,EAAoBC,SAApB,EAA8BC,UAA9B,EAAyCC,gBAAzC,EAA2DC,OAA3D,EAAoEC,MAApE,EAA4EC,OAA5E,QAA0F,mBAA1F;AACA,OAAOC,SAAP,MAAsB,UAAtB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,SAAQC,QAAR,QAAwB,uBAAxB;;AAEA,MAAMC,QAAQ,GAAC,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAU;AACrB,QAAMC,OAAO,GAACN,SAAS,EAAvB;;AADqB,oBAEYV,QAAQ,CAAC,CAAD,CAFpB;AAAA;AAAA,QAEdiB,UAFc;AAAA,QAEHC,aAFG;;AAGrB,QAAMC,KAAK,GAAC,CAAC,oBAAD,EAAsB,SAAtB,CAAZ;;AACA,QAAMC,IAAI,GAAC,MACPH,UAAU,KAAG,CAAb,gBAAe,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAf,gBAA8B,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADlC;;AAJqB,qBAOEjB,QAAQ,CAAC,IAAD,CAPV;AAAA;AAAA,QAOdqB,KAPc;AAAA,QAORC,QAPQ;;AASzBrB,EAAAA,SAAS,CAAC,MAAI;AAEV,UAAMsB,aAAa;AAAA,0EAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEMV,QAAQ,CAACW,QAAT,CAAkBD,aAAlB,CAAgCR,IAAhC,CAFN;;AAAA;AAENM,cAAAA,KAFM;AAGZC,cAAAA,QAAQ,CAACD,KAAD,CAAR;AAHY;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAD;;AAAA,sBAAbE,aAAa;AAAA;AAAA;AAAA,OAAnB;AAcH,GAhBQ,EAgBP,EAhBO,CAAT;;AAiBI,QAAME,YAAY,GAAC,MAAI;AACnB,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ;AAKH,GAND;;AAOA,sBACI,uDACA;AAAK,IAAA,SAAS,EAAET,OAAO,CAACU,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,eAEA;AAAM,IAAA,SAAS,EAAEV,OAAO,CAACW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,eAEI,oBAAC,OAAD;AAAS,IAAA,UAAU,EAAEV,UAArB;AAAiC,IAAA,SAAS,EAAED,OAAO,CAACY,OAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACCT,KAAK,CAACU,GAAN,CAAWC,IAAD,iBACP,oBAAC,IAAD;AAAM,IAAA,GAAG,EAAEA,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAYA,IAAZ,CADJ,CADH,CADD,CAFJ,EAWKb,UAAU,KAAGE,KAAK,CAACY,MAAnB,gBAA2B,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA3B,gBAA2C,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXhD,CADA,CAFA,CADJ;AAuBH,CAxDD;;AAyDA,eAAejB,QAAf","sourcesContent":["import React ,{useState,useEffect} from \"react\"\r\nimport {Paper, Step,StepLabel,Typography,CircularProgress, Divider ,Button ,Stepper} from \"@material-ui/core\"\r\nimport useStyles from \"./styles\"\r\nimport AddressForm from \"../AddressForm\"\r\nimport PaymentForm from \"../PaymentForm\"\r\nimport {commerce } from \"../../../lib/commerce\"\r\n\r\nconst Checkout=({cart})=>{\r\n    const classes=useStyles();\r\n    const [activeStep,setActiveStep]=useState(0)\r\n    const steps=[' Shipping Address ','Payment']\r\n    const Form=()=>(\r\n        activeStep===0?<AddressForm/>:<PaymentForm/>\r\n    )\r\n    const [token,setToken]=useState(null)\r\n\r\nuseEffect(()=>{\r\n\r\n    const generateToken=async()=>{\r\n        try {\r\n            const token=await commerce.checkout.generateToken(cart)\r\n            setToken(token)\r\n\r\n            \r\n        } catch (error) {\r\n\r\n            \r\n        }\r\n\r\n    }\r\n\r\n\r\n},[])\r\n    const Confirmation=()=>{\r\n        return (\r\n            <div>\r\n                confirm\r\n            </div>\r\n        )\r\n    }\r\n    return(\r\n        <>\r\n        <div className={classes.toolbar}/>\r\n        <main className={classes.layout}>\r\n        <Paper>\r\n            <Typography variant=\"h4\"> Checkout</Typography>\r\n            <Stepper activeStep={activeStep} className={classes.stepper}>\r\n            {steps.map((step)=>(\r\n                <Step key={step}>\r\n                    <StepLabel>{step}</StepLabel>\r\n                </Step>\r\n\r\n            ))}\r\n\r\n            </Stepper>\r\n            {activeStep===steps.length ?<Confirmation/>:<Form/>}\r\n        </Paper>\r\n\r\n      </main>\r\n        \r\n        </>\r\n    )\r\n\r\n}\r\nexport default Checkout"]},"metadata":{},"sourceType":"module"}