{"ast":null,"code":"import _regeneratorRuntime from \"G:\\\\MERN\\\\keeper\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"G:\\\\MERN\\\\keeper\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"G:\\\\MERN\\\\keeper\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"G:\\\\MERN\\\\keeper\\\\src\\\\App.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { Products, Navbar } from \"./components\";\nimport { commerce } from './lib/commerce';\n\nconst App = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        products = _useState2[0],\n        setProducts = _useState2[1];\n\n  const _useState3 = useState({}),\n        _useState4 = _slicedToArray(_useState3, 2),\n        cart = _useState4[0],\n        setCart = _useState4[1];\n\n  const getProducts = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _yield$commerce$produ, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return commerce.products.list();\n\n          case 2:\n            _yield$commerce$produ = _context.sent;\n            data = _yield$commerce$produ.data;\n            //console.log(data)\n            setProducts(data);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function getProducts() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  const getCart = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.t0 = setCart;\n            _context2.next = 3;\n            return commerce.cart.retrieve();\n\n          case 3:\n            _context2.t1 = _context2.sent;\n            (0, _context2.t0)(_context2.t1);\n            console.log(\"here\");\n            console.log(cart);\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n\n    return function getCart() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(() => {\n    getProducts();\n    getCart();\n  }, []);\n\n  const addToCart = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(productId, qty) {\n      var item;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return commerce.cart.add(productId, qty);\n\n          case 2:\n            item = _context3.sent;\n            setCart(item.cart);\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }));\n\n    return function addToCart(_x, _x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }(); //console.log(products)\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Products, {\n    products: products,\n    onAdd: addToCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 12\n    }\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["G:/MERN/keeper/src/App.jsx"],"names":["React","useEffect","useState","Products","Navbar","commerce","App","products","setProducts","cart","setCart","getProducts","list","data","getCart","retrieve","console","log","addToCart","productId","qty","add","item"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAAQC,QAAR,EAAkBC,MAAlB,QAA+B,cAA/B;AACA,SAAQC,QAAR,QAAuB,gBAAvB;;AAKA,MAAMC,GAAG,GAAC,MAAI;AAAA,oBAEeJ,QAAQ,CAAC,EAAD,CAFvB;AAAA;AAAA,QAEPK,QAFO;AAAA,QAEEC,WAFF;;AAAA,qBAGMN,QAAQ,CAAC,EAAD,CAHd;AAAA;AAAA,QAGRO,IAHQ;AAAA,QAGHC,OAHG;;AAId,QAAMC,WAAW;AAAA,wEAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,mBACKN,QAAQ,CAACE,QAAT,CAAkBK,IAAlB,EADL;;AAAA;AAAA;AACPC,YAAAA,IADO,yBACPA,IADO;AAEd;AACAL,YAAAA,WAAW,CAACK,IAAD,CAAX;;AAHc;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;;AAAA,oBAAXF,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAOA,QAAMG,OAAO;AAAA,yEAAC;AAAA;AAAA;AAAA;AAAA,2BACVJ,OADU;AAAA;AAAA,mBACIL,QAAQ,CAACI,IAAT,CAAcM,QAAd,EADJ;;AAAA;AAAA;AAAA;AAEVC,YAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAD,YAAAA,OAAO,CAACC,GAAR,CAAYR,IAAZ;;AAHU;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;;AAAA,oBAAPK,OAAO;AAAA;AAAA;AAAA,KAAb;;AAKAb,EAAAA,SAAS,CAAC,MAAI;AACVU,IAAAA,WAAW;AACXG,IAAAA,OAAO;AACV,GAHQ,EAGP,EAHO,CAAT;;AAKA,QAAMI,SAAS;AAAA,yEAAC,kBAAMC,SAAN,EAAiBC,GAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEKf,QAAQ,CAACI,IAAT,CAAcY,GAAd,CAAkBF,SAAlB,EAA4BC,GAA5B,CAFL;;AAAA;AAENE,YAAAA,IAFM;AAGZZ,YAAAA,OAAO,CAACY,IAAI,CAACb,IAAN,CAAP;;AAHY;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;;AAAA,oBAATS,SAAS;AAAA;AAAA;AAAA,KAAf,CArBc,CA4Bd;;;AACI,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEG,oBAAC,QAAD;AAAU,IAAA,QAAQ,EAAEX,QAApB;AAA8B,IAAA,KAAK,EAAEW,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFH,CADJ;AAMH,CAnCD;;AAoCA,eAAeZ,GAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport {Products ,Navbar} from \"./components\"\r\nimport {commerce} from './lib/commerce'\r\n\r\n\r\n\r\n\r\nconst App=()=>{\r\n    \r\nconst [products,setProducts]=useState([]);\r\nconst[cart,setCart]=useState({})\r\nconst getProducts=async()=> {\r\n    const {data}=await commerce.products.list();\r\n    //console.log(data)\r\n    setProducts(data);\r\n\r\n    \r\n}\r\nconst getCart=async()=>{\r\n    setCart(await commerce.cart.retrieve())\r\n    console.log(\"here\")\r\n    console.log(cart)\r\n}\r\nuseEffect(()=>{\r\n    getProducts();\r\n    getCart()\r\n},[])\r\n\r\nconst addToCart=async(productId, qty)=>\r\n{\r\n    const item=await commerce.cart.add(productId,qty);\r\n    setCart(item.cart)\r\n\r\n\r\n}\r\n//console.log(products)\r\n    return (\r\n        <div>\r\n            <Navbar/>\r\n           <Products products={products} onAdd={addToCart}/>\r\n        </div>\r\n    )\r\n}\r\nexport default App\r\n\r\n"]},"metadata":{},"sourceType":"module"}