{"ast":null,"code":"import _regeneratorRuntime from \"G:\\\\MERN\\\\keeper\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"G:\\\\MERN\\\\keeper\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"G:\\\\MERN\\\\keeper\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"G:\\\\MERN\\\\keeper\\\\src\\\\App.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { Products, Navbar, Checkout } from \"./components\";\nimport Cart from './components/Cart/Cart';\nimport { commerce } from './lib/commerce';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nconst App = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        products = _useState2[0],\n        setProducts = _useState2[1];\n\n  const _useState3 = useState({}),\n        _useState4 = _slicedToArray(_useState3, 2),\n        cart = _useState4[0],\n        setCart = _useState4[1];\n\n  const getProducts = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _yield$commerce$produ, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return commerce.products.list();\n\n          case 2:\n            _yield$commerce$produ = _context.sent;\n            data = _yield$commerce$produ.data;\n            //console.log(data)\n            setProducts(data);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function getProducts() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  const getCart = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.t0 = setCart;\n            _context2.next = 3;\n            return commerce.cart.retrieve();\n\n          case 3:\n            _context2.t1 = _context2.sent;\n            (0, _context2.t0)(_context2.t1);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n\n    return function getCart() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  const handleUpdate = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(productId, quantity) {\n      var _yield$commerce$cart$, cart;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            console.log(\"here\");\n            _context3.next = 3;\n            return commerce.cart.update(productId, {\n              quantity\n            });\n\n          case 3:\n            _yield$commerce$cart$ = _context3.sent;\n            cart = _yield$commerce$cart$.cart;\n            setCart(cart);\n\n          case 6:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }));\n\n    return function handleUpdate(_x, _x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  const handleRemove = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(productId) {\n      var _yield$commerce$cart$2, cart;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return commerce.cart.remove(productId);\n\n          case 2:\n            _yield$commerce$cart$2 = _context4.sent;\n            cart = _yield$commerce$cart$2.cart;\n            setCart(cart);\n\n          case 5:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4);\n    }));\n\n    return function handleRemove(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  const handleEmptyCart = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var _yield$commerce$cart$3, cart;\n\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return commerce.cart.empty();\n\n          case 2:\n            _yield$commerce$cart$3 = _context5.sent;\n            cart = _yield$commerce$cart$3.cart;\n            setCart(cart);\n\n          case 5:\n          case \"end\":\n            return _context5.stop();\n        }\n      }, _callee5);\n    }));\n\n    return function handleEmptyCart() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  useEffect(() => {\n    getProducts();\n    getCart();\n  }, []);\n\n  const handleAddToCart = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(productId, qty) {\n      var item;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.next = 2;\n            return commerce.cart.add(productId, qty);\n\n          case 2:\n            item = _context6.sent;\n            setCart(item.cart);\n            console.log(item);\n\n          case 5:\n          case \"end\":\n            return _context6.stop();\n        }\n      }, _callee6);\n    }));\n\n    return function handleAddToCart(_x4, _x5) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    totalItems: cart.total_items,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Products, {\n    products: products,\n    onAddTocart: handleAddToCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Cart, {\n    cart: cart,\n    handleUpdate: handleUpdate,\n    handleRemove: handleRemove,\n    handleEmptyCart: handleEmptyCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/checkout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Checkout, {\n    cart: cart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  })))));\n};\n\nexport default App;","map":{"version":3,"sources":["G:/MERN/keeper/src/App.jsx"],"names":["React","useEffect","useState","Products","Navbar","Checkout","Cart","commerce","BrowserRouter","Router","Switch","Route","App","products","setProducts","cart","setCart","getProducts","list","data","getCart","retrieve","handleUpdate","productId","quantity","console","log","update","handleRemove","remove","handleEmptyCart","empty","handleAddToCart","qty","add","item","total_items"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport {Products ,Navbar,Checkout} from \"./components\"\r\nimport Cart from './components/Cart/Cart';\r\nimport {commerce} from './lib/commerce'\r\n\r\nimport {BrowserRouter as Router, Switch ,Route} from 'react-router-dom'\r\n\r\n\r\nconst App=()=>{\r\n    \r\nconst [products,setProducts]=useState([]);\r\nconst[cart,setCart]=useState({})\r\nconst getProducts=async()=> {\r\n    const {data}=await commerce.products.list();\r\n    //console.log(data)\r\n    setProducts(data);\r\n\r\n    \r\n}\r\nconst getCart=async()=>{\r\n    setCart(await commerce.cart.retrieve())\r\n    \r\n}\r\nconst handleUpdate=async(productId,quantity)=>\r\n{\r\n    console.log(\"here\")\r\n        const {cart}=await commerce.cart.update(productId,{quantity})\r\n        setCart(cart);\r\n}\r\n\r\nconst handleRemove=async(productId)=>{\r\n    const {cart}=await commerce .cart.remove(productId);\r\n    setCart(cart);\r\n}\r\n\r\nconst handleEmptyCart=async()=>{\r\n    const {cart}=await commerce.cart.empty();\r\n    setCart(cart);\r\n}\r\n \r\nuseEffect(()=>{\r\n    getProducts();\r\n    getCart()\r\n},[])\r\n\r\n   \r\n\r\nconst handleAddToCart=async(productId, qty)=>\r\n{\r\n    const item=await commerce.cart.add(productId,qty);\r\n    setCart(item.cart)\r\n    console.log(item)\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n    return (\r\n        <Router>\r\n        <div>\r\n            <Navbar totalItems={cart.total_items}/>\r\n            <Switch>\r\n                <Route exact path='/'>\r\n                    <Products products={products} onAddTocart={handleAddToCart}/>\r\n                </Route>\r\n                <Route exact path='/cart'>\r\n                <Cart cart={cart}\r\n                handleUpdate={handleUpdate}\r\n                handleRemove={handleRemove}\r\n                handleEmptyCart={handleEmptyCart}             \r\n                    \r\n                />\r\n                </Route>\r\n                <Route exact path='/checkout'>\r\n                <Checkout cart={cart}/>\r\n\r\n                </Route>\r\n            </Switch>\r\n           \r\n         \r\n        </div>\r\n\r\n        </Router>\r\n        \r\n    )\r\n}\r\nexport default App\r\n\r\n"]},"metadata":{},"sourceType":"module"}