{"ast":null,"code":"import _regeneratorRuntime from \"G:\\\\MERN\\\\keeper\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"G:\\\\MERN\\\\keeper\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"G:\\\\MERN\\\\keeper\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"G:\\\\MERN\\\\keeper\\\\src\\\\App.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { Products, Navbar } from \"./components\";\nimport Cart from './components/Cart/Cart';\nimport { commerce } from './lib/commerce';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nconst App = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        products = _useState2[0],\n        setProducts = _useState2[1];\n\n  const _useState3 = useState({}),\n        _useState4 = _slicedToArray(_useState3, 2),\n        cart = _useState4[0],\n        setCart = _useState4[1];\n\n  const getProducts = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _yield$commerce$produ, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return commerce.products.list();\n\n          case 2:\n            _yield$commerce$produ = _context.sent;\n            data = _yield$commerce$produ.data;\n            //console.log(data)\n            setProducts(data);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function getProducts() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  const getCart = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.t0 = setCart;\n            _context2.next = 3;\n            return commerce.cart.retrieve();\n\n          case 3:\n            _context2.t1 = _context2.sent;\n            (0, _context2.t0)(_context2.t1);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n\n    return function getCart() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(() => {\n    getProducts();\n    getCart();\n  }, []);\n\n  const handleAddToCart = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(productId, qty) {\n      var item;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return commerce.cart.add(productId, qty);\n\n          case 2:\n            item = _context3.sent;\n            setCart(item.cart);\n            console.log(item);\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }));\n\n    return function handleAddToCart(_x, _x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    totalItems: cart.total_items,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Products, {\n    products: products,\n    onAddTocart: handleAddToCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Cart, {\n    cart: cart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  })))));\n};\n\nexport default App;","map":{"version":3,"sources":["G:/MERN/keeper/src/App.jsx"],"names":["React","useEffect","useState","Products","Navbar","Cart","commerce","BrowserRouter","Router","Switch","Route","App","products","setProducts","cart","setCart","getProducts","list","data","getCart","retrieve","handleAddToCart","productId","qty","add","item","console","log","total_items"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAAQC,QAAR,EAAkBC,MAAlB,QAA+B,cAA/B;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,SAAQC,QAAR,QAAuB,gBAAvB;AAEA,SAAQC,aAAa,IAAIC,MAAzB,EAAiCC,MAAjC,EAAyCC,KAAzC,QAAqD,kBAArD;;AAGA,MAAMC,GAAG,GAAC,MAAI;AAAA,oBAEeT,QAAQ,CAAC,EAAD,CAFvB;AAAA;AAAA,QAEPU,QAFO;AAAA,QAEEC,WAFF;;AAAA,qBAGMX,QAAQ,CAAC,EAAD,CAHd;AAAA;AAAA,QAGRY,IAHQ;AAAA,QAGHC,OAHG;;AAId,QAAMC,WAAW;AAAA,wEAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,mBACKV,QAAQ,CAACM,QAAT,CAAkBK,IAAlB,EADL;;AAAA;AAAA;AACPC,YAAAA,IADO,yBACPA,IADO;AAEd;AACAL,YAAAA,WAAW,CAACK,IAAD,CAAX;;AAHc;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;;AAAA,oBAAXF,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAOA,QAAMG,OAAO;AAAA,yEAAC;AAAA;AAAA;AAAA;AAAA,2BACVJ,OADU;AAAA;AAAA,mBACIT,QAAQ,CAACQ,IAAT,CAAcM,QAAd,EADJ;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;;AAAA,oBAAPD,OAAO;AAAA;AAAA;AAAA,KAAb;;AAIAlB,EAAAA,SAAS,CAAC,MAAI;AACVe,IAAAA,WAAW;AACXG,IAAAA,OAAO;AACV,GAHQ,EAGP,EAHO,CAAT;;AAOA,QAAME,eAAe;AAAA,yEAAC,kBAAMC,SAAN,EAAiBC,GAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEDjB,QAAQ,CAACQ,IAAT,CAAcU,GAAd,CAAkBF,SAAlB,EAA4BC,GAA5B,CAFC;;AAAA;AAEZE,YAAAA,IAFY;AAGlBV,YAAAA,OAAO,CAACU,IAAI,CAACX,IAAN,CAAP;AACAY,YAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AAJkB;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;;AAAA,oBAAfJ,eAAe;AAAA;AAAA;AAAA,KAArB;;AASI,sBACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,UAAU,EAAEP,IAAI,CAACc,WAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,GAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAU,IAAA,QAAQ,EAAEhB,QAApB;AAA8B,IAAA,WAAW,EAAES,eAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,eAII,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAEP,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CAJJ,CAFJ,CADA,CADJ;AAmBH,CAlDD;;AAmDA,eAAeH,GAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport {Products ,Navbar} from \"./components\"\r\nimport Cart from './components/Cart/Cart';\r\nimport {commerce} from './lib/commerce'\r\n\r\nimport {BrowserRouter as Router, Switch ,Route} from 'react-router-dom'\r\n\r\n\r\nconst App=()=>{\r\n    \r\nconst [products,setProducts]=useState([]);\r\nconst[cart,setCart]=useState({})\r\nconst getProducts=async()=> {\r\n    const {data}=await commerce.products.list();\r\n    //console.log(data)\r\n    setProducts(data);\r\n\r\n    \r\n}\r\nconst getCart=async()=>{\r\n    setCart(await commerce.cart.retrieve())\r\n    \r\n}\r\nuseEffect(()=>{\r\n    getProducts();\r\n    getCart()\r\n},[])\r\n\r\n   \r\n\r\nconst handleAddToCart=async(productId, qty)=>\r\n{\r\n    const item=await commerce.cart.add(productId,qty);\r\n    setCart(item.cart)\r\n    console.log(item)\r\n\r\n\r\n}\r\n\r\n    return (\r\n        <Router>\r\n        <div>\r\n            <Navbar totalItems={cart.total_items}/>\r\n            <Switch>\r\n                <Route exact path='/'>\r\n                    <Products products={products} onAddTocart={handleAddToCart}/>\r\n                </Route>\r\n                <Route exact path='/cart'>\r\n                <Cart cart={cart}/>\r\n                </Route>\r\n            </Switch>\r\n           \r\n         \r\n        </div>\r\n\r\n        </Router>\r\n        \r\n    )\r\n}\r\nexport default App\r\n\r\n"]},"metadata":{},"sourceType":"module"}